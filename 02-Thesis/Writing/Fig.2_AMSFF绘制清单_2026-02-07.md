# Fig.2 AMSFF模块图 - 绘制执行清单

> 任务ID: #57
> 开始时间: 08:30
> 预计完成: 08:50
> 用时: 20分钟

---

## 任务概述

绘制自适应多尺度特征融合模块(AMSFF)的详细架构图，展示多尺度特征融合的核心机制。

---

## ASCII布局预览

```
                    输入多尺度特征
                {F2, F3, F4, F5}
                        │
        ┌───────────────┼───────────────┐
        │               │               │
        ▼               ▼               ▼
   ┌─────────┐    ┌─────────┐    ┌─────────┐
   │ 上采样   │    │  保持    │    │ 下采样   │
   │Upsample │    │  Keep   │    │Downsample│
   │(Fj→Fi)  │    │  (Fj)   │    │ (Fj→Fi) │
   └─────────┘    └─────────┘    └─────────┘
        │               │               │
        ▼               ▼               ▼
   ┌─────────┐    ┌─────────┐    ┌─────────┐
   │ 1×1 Conv │   │ 1×1 Conv │   │ 1×1 Conv │
   │ 对齐通道  │   │ 对齐通道  │   │ 对齐通道  │
   └─────────┘    └─────────┘    └─────────┘
        │               │               │
        └───────────────┼───────────────┘
                        │
                        ▼
                ┌──────────────┐
                │   拼接融合    │
                │  Concat +    │
                │  Sum加权     │
                └──────────────┘
                        │
                        ▼
                ┌──────────────┐
                │  门控网络     │
                │  g_ij = σ(...)│
                │  自适应权重   │
                └──────────────┘
                        │
                        ▼
                ┌──────────────┐
                │  加权融合     │
                │  Σ w_ij·F_j  │
                └──────────────┘
                        │
                        ▼
                ┌──────────────┐
                │  残差连接     │
                │  + F_i       │
                └──────────────┘
                        │
                        ▼
                输出特征 F̃_i
```

---

## 组件清单

| 组件 | 位置 | 尺寸 | 颜色 | 文字 |
|------|------|------|------|------|
| 输入标签 | x=600,y=50 | 400×50 | #E5E7EB | {F2, F3, F4, F5} |
| 上采样框 | x=250,y=150 | 200×200 | #DBEAFE | Upsample |
| 保持框 | x=550,y=150 | 200×200 | #D1FAE5 | Keep |
| 下采样框 | x=850,y=150 | 200×200 | #FCE7F3 | Downsample |
| Conv框(3个) | - | 150×60 | #FFFFFF | 1×1 Conv |
| 拼接融合 | x=600,y=400 | 400×80 | #FFFFFF | Concat |
| 门控网络 | x=600,y=520 | 400×80 | #FEF3C7 | Gate Network |
| 加权融合 | x=600,y=640 | 400×80 | #FFFFFF | Σ w_ij·F_j |
| 残差连接 | x=600,y=760 | 300×60 | #D1FAE5 | + F_i |
| 输出标签 | x=600,y=850 | 200×40 | #E5E7EB | F̃_i |

---

## 配色方案

| 用途 | 颜色 | RGB | Hex |
|------|------|-----|-----|
| 输入/输出 | 浅灰 | (229, 231, 235) | #E5E7EB |
| 上采样路径 | 浅蓝 | (219, 234, 254) | #DBEAFE |
| 保持路径 | 浅绿 | (209, 250, 229) | #D1FAE5 |
| 下采样路径 | 浅粉 | (252, 231, 243) | #FCE7F3 |
| 门控网络 | 浅黄 | (254, 243, 199) | #FEF3C7 |
| 内部模块 | 白色 | (255, 255, 255) | #FFFFFF |

---

## 连接箭头

```
输入 → 三个路径 → 拼接 → 门控 → 加权 → 残差 → 输出
        (并行)      融合   网络   融合   连接
```

---

## 图注

```
图2 自适应多尺度特征融合模块(AMSFF)结构。该模块通过上采样、保持原尺寸
和下采样三种操作，将所有层级特征对齐到目标尺度。门控网络根据特征
内容自适应计算融合权重，最终通过残差连接保留原始特征信息。

Fig. 2 Structure of Adaptive Multi-Scale Feature Fusion (AMSFF) module.
The module aligns all level features to target scale through upsampling,
keeping, and downsampling. The gate network adaptively computes fusion
weights based on feature content, and residual connections preserve
original feature information.
```

---

## 绘制步骤

1. **输入层** - 绘制输入特征标签
2. **三路径** - 绘制上采样、保持、下采样三个并行路径
3. **Conv层** - 为每条路径添加1×1 Conv对齐通道
4. **融合层** - 绘制拼接融合模块
5. **门控** - 绘制门控网络（突出显示）
6. **加权** - 绘制加权融合
7. **残差** - 绘制残差连接
8. **输出** - 绘制输出特征标签
9. **箭头** - 添加所有连接箭头
10. **导出** - PNG(300dpi) + PDF

---

## 输出文件

```
E:\000\knowledge\Attachments\论文图表\
├── Fig_2_AMSFF模块.png
└── Fig_2_AMSFF模块.pdf
```

---

**执行人**: Academic Writer
**任务ID**: #57
**状态**: 🔄 绘制中
**预计完成**: 08:50
