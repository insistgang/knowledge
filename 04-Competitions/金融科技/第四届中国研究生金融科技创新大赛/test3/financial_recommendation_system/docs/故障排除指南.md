# 前端系统故障排除指南

## 🔍 问题诊断

如果您输入客户号后系统无法正常运行，请按以下步骤进行排查：

## 📋 快速解决方案

### 1. 使用调试版本
**推荐使用调试版本进行测试：**
- 用浏览器打开 `debug_index.html` 而不是 `index.html`
- 调试版本包含详细的错误信息和自动测试功能

### 2. 运行自动测试
1. 打开 `debug_index.html`
2. 点击红色的"测试系统"按钮
3. 查看调试信息区域的输出
4. 系统会自动填入测试客户号并执行搜索

### 3. 测试客户号
使用以下测试客户号：
```
CDB91DCCE198B10A522FE2AABF6A8D81
9307AC85C179D8E388DC776DB6283534
9FA3282573CEB37A5E9BC1C38088087F
CB0D6827A924C7FFDD9DD57BF5CE9358
797E3448CF516A52ADBE6DB33626B50E
```

## 🛠️ 常见问题及解决方案

### 问题1：页面显示空白或无法加载
**可能原因：**
- JavaScript文件未正确加载
- 浏览器缓存问题
- 文件路径错误

**解决方案：**
1. **清除浏览器缓存**：
   - Chrome: Ctrl+Shift+R (Windows) 或 Cmd+Shift+R (Mac)
   - Firefox: Ctrl+F5 或 Ctrl+Shift+R
   - Edge: Ctrl+F5

2. **检查文件位置**：
   - 确保 `debug_index.html` 和 `debug_app.js` 在同一个文件夹中
   - 检查文件名是否完全匹配（包括大小写）

3. **使用本地服务器**（推荐）：
   ```bash
   # 进入项目目录
   cd d:\vscode_project

   # 使用Python启动本地服务器
   python -m http.server 8000

   # 在浏览器中访问
   http://localhost:8000/debug_index.html
   ```

### 问题2：输入客户号后无反应
**可能原因：**
- JavaScript执行错误
- 事件监听器未正确绑定
- 客户号格式错误

**解决方案：**
1. **查看浏览器控制台**：
   - 按F12打开开发者工具
   - 切换到"Console"标签
   - 查看是否有红色错误信息

2. **使用调试版本**：
   - `debug_index.html` 包含详细的调试信息
   - 会在页面顶部显示执行状态

3. **检查输入格式**：
   - 确保客户号完全正确（支持复制粘贴）
   - 不要有多余的空格

### 问题3：搜索客户时显示"未找到客户"
**可能原因：**
- 输入的客户号不在预设数据中
- 客户号包含特殊字符

**解决方案：**
1. **使用测试客户号**：
   - 点击"测试系统"按钮自动填入
   - 或手动复制粘贴上面的测试客户号

2. **检查客户号格式**：
   - 确保没有多余的空格或换行符
   - 建议直接复制粘贴，避免手动输入错误

### 问题4：部分功能无法正常显示
**可能原因：**
- CSS样式未正确加载
- DOM元素未正确创建

**解决方案：**
1. **强制刷新页面**：
   - Ctrl+Shift+R 强制刷新
   - 或者清除缓存后重新加载

2. **检查浏览器兼容性**：
   - 推荐使用Chrome、Firefox、Edge最新版本
   - 避免使用IE浏览器

## 🔧 高级排查步骤

### 步骤1：检查文件完整性
确保以下文件都在 `d:\vscode_project` 文件夹中：
```
✓ debug_index.html
✓ debug_app.js
✓ index.html
✓ app.js
```

### 步骤2：验证JavaScript执行
在浏览器控制台中执行以下命令：
```javascript
// 检查系统是否创建
console.log(typeof system);

// 检查客户数据
if (typeof system !== 'undefined') {
    console.log('客户数量:', system.customerData.customers.length);
    console.log('可用客户号:', system.customerData.customers.map(c => c.cust_no));
}
```

### 步骤3：手动测试搜索功能
在控制台中执行：
```javascript
// 手动搜索客户
if (typeof system !== 'undefined') {
    const customer = system.searchCustomer('CDB91DCCE198B10A522FE2AABF6A8D81');
    console.log('搜索结果:', customer);
}
```

## 🎯 推荐的最佳实践

### 1. 使用本地服务器
强烈建议使用本地HTTP服务器而不是直接打开HTML文件：

```bash
# Python 3
python -m http.server 8000

# Python 2
python -m SimpleHTTPServer 8000

# Node.js
npx http-server -p 8000

# PHP
php -S localhost:8000
```

### 2. 使用现代浏览器
- Chrome 90+
- Firefox 88+
- Edge 90+
- Safari 14+

### 3. 开启开发者工具
- 按F12打开开发者工具
- 监控Console标签的输出
- 检查Network标签的请求状态

## 📞 获取更多帮助

如果以上方法都无法解决问题，请：

1. **截图错误信息**：
   - 浏览器控制台的错误信息
   - 调试信息区域的输出

2. **描述具体问题**：
   - 输入了什么客户号
   - 点击了什么按钮
   - 出现了什么错误提示

3. **检查环境信息**：
   - 操作系统版本
   - 浏览器版本
   - 是否使用了本地服务器

## 🚀 快速验证

完成故障排除后，您应该能够：

1. ✅ 看到完整的系统界面
2. ✅ 输入测试客户号并成功搜索
3. ✅ 查看客户详细信息和推荐结果
4. ✅ 使用反馈功能优化推荐策略

如果所有功能都正常工作，您就可以正常使用这个智能金融产品推荐系统了！