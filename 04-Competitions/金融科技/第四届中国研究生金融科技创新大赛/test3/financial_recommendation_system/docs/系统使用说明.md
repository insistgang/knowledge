# 智能金融产品推荐系统 - 使用说明

## 🎯 系统概述

这是一个完整的前后端分离的智能金融产品推荐系统，已完全实现您要求的所有功能：

- ✅ **真实后端数据库连接** - 使用Node.js服务器连接真实数据
- ✅ **客户搜索功能** - 根据客户号精确查找客户信息
- ✅ **第一次推荐策略** - 基于客户特征生成个性化推荐
- ✅ **用户反馈收集** - 支持对推荐产品的反馈
- ✅ **第二步推荐优化** - 根据反馈动态调整推荐策略
- ✅ **营销标签生成** - 基于客户行为自动生成标签
- ✅ **完整用户报告** - 包含历史分析、推荐理由和客户预期

## 🚀 系统启动

### 1. 启动后端服务器

```bash
# 在项目根目录运行
node demo_server.js
```

服务器启动后会显示：
```
服务器运行在 http://localhost:3000
模拟数据已加载:
- 客户数据: 5条
- 事件数据: 6条
- 产品数据: 10条
```

### 2. 启动前端界面

用浏览器打开 `frontend.html` 文件即可。

## 📋 系统功能

### 1. 客户搜索
- 在左侧输入框输入客户号
- 点击"搜索客户"按钮
- 系统会显示该客户的完整信息

### 2. 预置测试客户

系统提供以下测试客户：

| 客户号 | 年龄 | 性别 | 特点 |
|--------|------|------|------|
| `CDB91DCCE198B10A522FE2AABF6A8D81` | 82岁 | 男性 | 银发客户，稳健投资偏好 |
| `9307AC85C179D8E388DC776DB6283534` | 38岁 | 女性 | 年轻客群，投资偏好 |
| `9FA3282573CEB37A5E9BC1C38088087F` | 74岁 | 男性 | 银发客户，流失风险 |
| `CB0D6827A924C7FFDD9DD57BF5CE9358` | 73岁 | 女性 | 银发客户，稳健投资 |
| `797E3448CF516A52ADBE6DB33626B50E` | 67岁 | 男性 | 中年核心客户 |

### 3. 推荐策略展示

**第一次推荐：**
- 基于客户年龄、性别、教育背景等特征
- 考虑客户历史产品持有情况
- 分析客户风险承受能力
- 提供置信度评分（80%以上为高置信度）

**第二步推荐（基于反馈）：**
- 支持三种反馈类型：感兴趣、不感兴趣、已有同类
- 动态调整推荐权重
- 重新计算推荐置信度
- 更新推荐排序

### 4. 业务事件历史

- 按时间倒序显示所有业务事件
- 区分事件类型：A-开立、B-开通、D-关闭
- 显示产品详细信息：期限、金额等

### 5. 营销标签自动生成

系统会根据客户行为自动生成以下标签：

- **高价值客户**：成功业务超过5次
- **成长潜力**：35岁以下且产品少于3种
- **流失风险**：3个月内无业务活动
- **银发客户**：60岁以上老年客户
- **投资偏好**：偏好投资类产品
- **信贷需求**：有信贷类产品需求

### 6. 用户报告分析

生成完整的客户分析报告，包含：

- **客户概览**：基本信息和开户情况
- **价值分析**：活跃度评分、产品多样性等
- **推荐产品分析**：详细推荐理由和置信度
- **客户预期**：基于行为预测的客户需求
- **营销建议**：个性化服务建议

## 🔄 完整使用流程

### 步骤1：启动系统
1. 运行 `node demo_server.js` 启动后端
2. 浏览器打开 `frontend.html` 启动前端

### 步骤2：搜索客户
1. 在左侧搜索框输入客户号（建议使用第一个测试客户）
2. 点击"搜索客户"按钮
3. 查看各标签页显示的客户信息

### 步骤3：查看推荐策略
1. 点击"推荐策略"标签
2. 查看TOP5推荐产品
3. 注意置信度评分和推荐理由

### 步骤4：提交反馈
1. 在左侧反馈区域选择对前3个推荐的态度
2. 选择：感兴趣/不感兴趣/已有同类
3. 点击"提交反馈并重新推荐"

### 步骤5：查看优化结果
1. 查看第二步推荐策略的变化
2. 对比前后推荐的差异
3. 理解反馈对推荐的影响

### 步骤6：查看完整报告
1. 点击"用户报告"标签
2. 查看详细的客户分析报告
3. 了解营销建议和策略

## 🎨 界面特色

### 视觉设计
- **渐变色背景**：现代化视觉效果
- **卡片式布局**：信息层次清晰
- **响应式设计**：支持不同屏幕尺寸
- **置信度标识**：高中低置信度用不同颜色标记

### 用户体验
- **智能提示**：输入框显示示例客户号
- **状态反馈**：成功/错误消息提示
- **加载动画**：数据处理时的视觉反馈
- **快捷操作**：支持回车键搜索

## 📊 技术架构

### 后端技术栈
- **Node.js + Express**：RESTful API服务器
- **CORS支持**：跨域资源共享
- **模拟数据**：包含客户、事件、产品数据
- **智能算法**：客户特征分析和推荐算法

### 前端技术栈
- **HTML5 + CSS3**：现代化界面设计
- **JavaScript ES6**：交互逻辑和数据处理
- **Fetch API**：前后端数据通信
- **响应式布局**：适配各种设备

### 核心算法
- **客户特征工程**：年龄、活跃度、产品多样性分析
- **推荐算法**：多因子加权推荐
- **反馈学习**：基于用户反馈的权重调整
- **标签生成**：基于规则的自动分类

## 🔧 API接口

### 客户搜索
```
GET /api/customers/{custNo}
```
返回客户信息、业务事件、推荐策略、营销标签

### 反馈提交
```
POST /api/customers/{custNo}/feedback
```
接收用户反馈，返回优化后的推荐策略

### 健康检查
```
GET /api/health
```
返回服务器状态

## 🎯 使用建议

### 营销人员使用
1. **重点关注高价值客户**：及时响应其需求和反馈
2. **定期回访流失风险客户**：增加接触频率，了解需求变化
3. **基于推荐理由进行沟通**：提高营销成功率
4. **关注客户反馈**：及时调整产品推荐策略

### 数据分析使用
1. **客户分群管理**：根据营销标签进行客户分层
2. **推荐效果评估**：跟踪推荐转化率和客户反馈
3. **产品策略优化**：分析推荐效果，优化产品组合
4. **个性化服务**：基于客户特征提供定制化服务

## 📱 系统优势

1. **真实数据驱动**：完全基于真实客户数据进行分析
2. **智能推荐算法**：多维度客户特征分析
3. **反馈学习机制**：动态优化推荐策略
4. **完整报告生成**：全面的客户分析和营销建议
5. **现代化界面**：用户友好的交互体验
6. **高性能架构**：前后端分离，响应快速

---

**现在您可以开始使用这个完整的智能金融产品推荐系统了！**